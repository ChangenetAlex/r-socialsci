---
title: "Before we Start"
teaching: 25
exercises: 15
source: Rmd
---

```{r setup, include=FALSE}
source("data/download_data.R")
```


## Introduction

### Slides notes 

* Opening the orientation doc
* ARC -> Also teaching 
* Breaks every hour 
* Course material -> have it opened at the same if you want. Do optional lessons 
* Carpentry = com of people who want to share open research

### COC

Any form of behaviour to exclude, intimidate, or cause discomfort is a violation of the Code of Conduct. That you can report 

### Sticky notes 

To indicate progress (okay to carry on or not). 
* Red indicate that you need help
* Green indicate you have completed the exercise and ready to progress. 

Allow to request help without requiring learners to raise hands (less intimidating). 

### Etherpad: 

> 💡 **Instructor note:** Show the etherpad. 

We will be using the Etherpad rather than asking people questions. That a collab doc which is semi public so please don't share confidential info. If you have it opened please add an answer to the question in day 1. 

> 💡 **Instructor note:** Demonstrate how to add something in the Etherpad.

### Plan for the day

::::::::::::::::::::::::::::::::::::::: objectives

- No exp required
- Information about R syntax, the RStudio interface, and move through how to import CSV files, the structure of data frames, how to deal with factors, how to add/remove rows and columns, how to calculate summary statistics from a data frame, and a brief introduction to plotting.

::::::::::::::::::::::::::::::::::::::::::::::::::


### Set-up 

::: instructor

- The main goal here is to help the learners be comfortable with the RStudio
  interface.
  
::::::::::::

::::::::::::::::::::::::::::::::::::::: objectives

- Install latest version of R.
- Install latest version of RStudio.
- Navigate the RStudio GUI.
- Install additional packages using the packages tab.
- Install additional packages using R code.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- How to find your way around RStudio?
- How to interact with R?
- How to manage your environment?
- How to install packages?

::::::::::::::::::::::::::::::::::::::::::::::::::

## What is R? What is RStudio? And why R is a good choice? 

The term "`R`" is used to refer to both the programming language and the
software

* [RStudio](https://rstudio.com): write R scripts and interact with the R.
* RStudio needs R and therefore both need to be installed on your computer.


> 💡 **Instructor note:** Ask who has not installed R and Rstudio. green sticky notes if you have R and Rstudio installed. Red if you are not ready to go along.Give help while explaining the next bit

See set up instructions for Mac windows for R and Rstudio.

* IDE = Integrated Development Environment = tools to make programming easier.
* Manual VS automated cars 

> ❓ **Challenge** Ask to run R first then R studio and tell in the etherpad what differences you notice? 

* R pres
* Shiny app
* Reproducibility (including yourself)
* Website
* Quarto

### R does not involve lots of pointing and clicking, and that's a good thing

* The learning curve might be steeper.
* More data, some part of your workflow change. -> Run the script -> every step Clear and Share data
* Deeper understanding of methods.
* Great for reproducibility: Same results from same dataset and analysis
* Integrate well with other tools -> Manuscripts, automation. 
* Fixing a mistakes is fixing a typo not redo everything.
* renv and Packages help you with dependency management: keeping track of which packages we
are loading and how they depend on the package version you are using. 
* Community and interdisciplinarity: CRAN -> Examples image analysis, GIS, stats ...

### R works on data of all shapes and sizes

* The skills you learn with R scale easily with the size of your dataset. 
* R is designed for data analysis. It comes with special data structures and data
types that make handling of missing data and statistical factors convenient.
* R can connect to spreadsheets, databases, and many other data formats. 

### R produces high-quality graphics

### Not only is R free, but it is also open-source and cross-platform

* Anyone can inspect the source code to see how R works. easy to report and fix bugs.

## A tour of RStudio

> 💡 **Instructor note:** : Check etherpad answers 

We will use the RStudio IDE to do .... but can be also used for...
Single windows, autocomletion...

## Getting set up

* Good practice use the **working directory** to keep stuffs together.
* Use *relative paths* to files VS absolute files (specific computer). Easier.
* Easy with Rstudio. Use of project interface and keep memory.

### Create a new project

- `New project` -> choose `New directory`, then `New project`
- Meaningful name and directory. This will be your WD. 
- Click on `Create project`
- Go to File > New File > R -> Save as "`script.R`".
- How to open a `.Rproj` = Double click -> **same** directory. Relative to that.

### The RStudio Interface

Let's take a quick tour of RStudio.
* 4 "panes". Can be customized. 

- Top Left - **Source**: your scripts and documents
- Bottom Left - **Console**: what R would look and be like without RStudio
- Top Right - **Environment/History**: look here to see what you have done
- Bottom Right - **Files** and more: see the contents of the project/working
  directory here, like your Script.R file

### Organizing your working directory

Consistent folder structure across your projects will help keep things
organized and make it easy. Usually: **scripts**, **data**, and **documents**. 

- **`data/`** : Raw and processed 
- **`data_output/`** Modify your raw data
- **`documents/`** 
- **`fig_output/`**
- **`scripts/`** 


### The working directory

* WD = where R will look for and save files.
* Scripts should refer to files in relation WD
* `getwd()`-> If not the same as `.Rproj`. You opened Rmd outside of `.Rproj`. Reopen
* `setwd('my/path')` changes the working directory. Caution. 

### Downloading the data and getting set up

For this lesson: 
**`data/`**, **`data_output/`** and **`fig_output/`**.
Clicking or 

```{r create-dirs, eval=FALSE}
dir.create("data")
dir.create("data_output")
dir.create("fig_output")
```

You can either download the data used for this lesson from GitHub or with R.
Copy file from github: https://github.com/datacarpentry/r-socialsci/blob/main/episodes/data/SAFI_clean.csv
-> `SAFI_clean.csv` in the `data/`.

> 💡 **Instructor note:** : Copy next chunk

```{r download-data, eval=FALSE}
download.file(
  "https://raw.githubusercontent.com/datacarpentry/r-socialsci/main/episodes/data/SAFI_clean.csv",
  "data/SAFI_clean.csv", mode = "wb"
  )
```

## Interacting with R

programming = write down instructions for the computer to
follow, in a common language that both the computer
and we can understand. 

* Two ways of interacting: Console or script.

> 💡 **Instructor note:** : Show console

Reproducible type in the script editor and save the script.
<kbd>Ctrl</kbd> + <kbd>Enter</kbd>

> 💡 **Instructor note:** : Show script one line, select text and next line

<kbd>Ctrl</kbd> + <kbd>L</kbd>: Clear console
 Can use console to check a variable you have define. 

`>` = ready to accept command. 
`+` = wait for more. Not 'closed' a parenthesis or
quotation, <kbd>Esc</kbd>;

> 💡 **Instructor note:** : Show + and > state and escape when +

## Installing additional packages using the packages tab

* You should have already installed the packages 'ggplot2'
and 'dplyr. If you have not, please do so now using these instructions.

> 💡 **Instructor note:** looking in the `packages` tab or running `installed.packages()`

> 💡 **Instructor note:** Show how to install package with dep ticked by default


:::::::::::::::::::::::::::::::::::::::  challenge

## Exercise

Use both the Console and the Packages tab to confirm that you have the tidyverse
installed.

:::::::::::::::  solution

Check two options 

:::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::::::::::::::::

* Need an Internet connection to install packages.
* Possible from other sources

## Installing additional packages using R code

* If you were watching the console `install.packages("tidyverse")`

* > 💡 **Instructor note:** Type the following 

```{r, eval=FALSE}
install.packages("here")
```

:::::::::::::::::::::::::::::::::::::::: keypoints

- Use RStudio to write and run R programs.
- Use `install.packages()` to install packages (libraries).

::::::::::::::::::::::::::::::::::::::::::::::::::


